{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/doria/Documents/Avem Cre\\u0301ation/Codes/cicerone_app/cicerone_front/src/components/documentCard.js\";\nimport React, { Component } from 'react';\nimport { Form, Field } from 'react-final-form';\nimport card from \"../styles/components/_c-document-display.module.scss\";\nimport myFetch from '../actions/myFetch';\nimport SelectField from \"./selectField\"; // import editFormStyle from \"../styles/elements/_e-edit-form.module.scss\"\n\nclass DocumentCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      edit: false\n    };\n  }\n\n  render() {\n    const data = this.props.data;\n    console.log('this.props', this.props);\n\n    const handleEdit = () => {\n      this.setState(prevState => ({\n        edit: !prevState.edit\n      }));\n    };\n\n    const handleDelete = () => {\n      myFetch(`${this.props.rootURL}/${data._id}`, data, \"DELETE\", this.props.loadData);\n    };\n\n    const onSubmit = values => {\n      myFetch(`${this.props.rootURL}/${values._id}`, values, \"PUT\", () => {\n        this.setState(prevState => ({\n          edit: !prevState.edit\n        }));\n        this.props.loadData();\n      });\n    };\n\n    if (this.props.rootURL.includes(\"beer_type\")) {\n      if (this.state.edit) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: card.document_card,\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: onSubmit,\n            initialValues: data,\n            render: ({\n              handleSubmit,\n              submitting\n            }) => /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              className: card.card_grid,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                name: \"name\",\n                component: \"input\",\n                type: \"text\",\n                className: \"span_2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Country\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SelectField, {\n                url: \"region\",\n                name: \"country\",\n                placeholder: \"Pays\",\n                className: \"span_2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Alcohol title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SelectField, {\n                url: \"alcohol_title\",\n                name: \"alcoholTitle[min]\",\n                placeholder: \"Taux alcool min\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SelectField, {\n                url: \"alcohol_title\",\n                name: \"alcoholTitle[max]\",\n                placeholder: \"Taux alcool max\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SelectField, {\n                url: \"beer_category\",\n                name: \"category\",\n                placeholder: \"Cat\\xE9gorie\",\n                className: \"span_2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Color\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SelectField, {\n                url: \"beer_color\",\n                name: \"color[min]\",\n                placeholder: \"Couleur min\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SelectField, {\n                url: \"beer_color\",\n                name: \"color[max]\",\n                placeholder: \"Couleur max\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Bitterness\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SelectField, {\n                url: \"bitterness\",\n                name: \"bitterness[min]\",\n                placeholder: \"Amertume min\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(SelectField, {\n                url: \"bitterness\",\n                name: \"bitterness[max]\",\n                placeholder: \"Amertume max\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"span_3\",\n                type: \"submit\",\n                disabled: submitting,\n                children: \"\\xC9diter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleEdit,\n                className: \"span_3 red\",\n                children: \"Annuler\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${card.card_grid} ${card.document_card}`,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"span_3\",\n            children: data.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Country\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"span_2\",\n            children: data.country.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"span_2\",\n            children: data.category ? data.category.name : \"___\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Alcohol title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: !data.alcoholTitle.max ? \"span_2\" : \"\",\n            children: data.alcoholTitle.min.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), data.alcoholTitle.max && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: data.alcoholTitle.max.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 39\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Color\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: !data.color.max ? \"span_2\" : \"\",\n            children: data.color.min.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), data.color.max && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: data.color.max.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 32\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Bitterness\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: !data.bitterness.max ? \"span_2\" : \"\",\n            children: data.bitterness.min.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), data.bitterness.max && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: data.bitterness.max.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleEdit,\n            className: \"span_3\",\n            children: \"Editer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleDelete,\n            className: \"span_3 red\",\n            children: \"Supprimer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this);\n      }\n    } else {\n      if (this.state.edit) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: card.document_card,\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: onSubmit,\n            initialValues: data,\n            render: ({\n              handleSubmit,\n              submitting\n            }) => /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              className: editFormStyle.edit_form,\n              children: [/*#__PURE__*/_jsxDEV(Field, {\n                name: \"name\",\n                component: \"input\",\n                type: \"text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 19\n              }, this), this.props.rootURL.includes(\"beer_color\") && /*#__PURE__*/_jsxDEV(Field, {\n                name: \"color\",\n                component: \"input\",\n                type: \"text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: submitting,\n                children: \"\\xC9diter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleEdit,\n                className: \"red\",\n                children: \"Annuler\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: card.document_card,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: data.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), this.props.rootURL.includes(\"beer_color\") && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: data.color\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 59\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleEdit,\n            style: {\n              marginBottom: \"5px\"\n            },\n            children: \"Editer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleDelete,\n            className: \"red\",\n            children: \"Supprimer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this);\n      }\n    }\n  }\n\n}\n\nexport default DocumentCard;","map":{"version":3,"sources":["/Users/doria/Documents/Avem Création/Codes/cicerone_app/cicerone_front/src/components/documentCard.js"],"names":["React","Component","Form","Field","card","myFetch","SelectField","DocumentCard","constructor","props","state","edit","render","data","console","log","handleEdit","setState","prevState","handleDelete","rootURL","_id","loadData","onSubmit","values","includes","document_card","handleSubmit","submitting","card_grid","name","country","category","alcoholTitle","max","min","color","bitterness","editFormStyle","edit_form","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Field } from 'react-final-form';\nimport card from \"../styles/components/_c-document-display.module.scss\"\nimport myFetch from '../actions/myFetch'\n\nimport SelectField from \"./selectField\"\n// import editFormStyle from \"../styles/elements/_e-edit-form.module.scss\"\n\nclass DocumentCard extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      edit: false,\n    }\n  }\n    \n  render() {\n    const data = this.props.data\n    console.log('this.props', this.props)\n\n    const handleEdit = () => {\n      this.setState(prevState => ({\n        edit: !prevState.edit\n      }))\n    }\n\n    const handleDelete = () => {\n      myFetch(\n        `${this.props.rootURL}/${data._id}`, \n        data,\n        \"DELETE\",\n        this.props.loadData\n      )\n    }\n\n    const onSubmit = values => {\n      myFetch(\n        `${this.props.rootURL}/${values._id}`, \n        values,\n        \"PUT\", \n        () => {\n          this.setState(prevState => ({ edit: !prevState.edit}))\n          this.props.loadData()\n        }\n      )\n    }\n\n    if(this.props.rootURL.includes(\"beer_type\")){\n      if(this.state.edit){\n        return(\n          <div className={card.document_card}>\n            <Form\n              onSubmit={onSubmit}\n              initialValues={data}\n              render={({ handleSubmit, submitting }) => (\n                <form onSubmit={handleSubmit} className={card.card_grid}>\n                  <label>Name</label>\n                  <Field\n                    name=\"name\"\n                    component=\"input\"\n                    type=\"text\"\n                    className=\"span_2\"\n                  />\n                  <label>Country</label>\n                  <SelectField url=\"region\" name=\"country\" placeholder=\"Pays\" className=\"span_2\" />\n                  <label>Alcohol title</label>\n                  <SelectField url=\"alcohol_title\" name=\"alcoholTitle[min]\" placeholder=\"Taux alcool min\" />\n                  <SelectField url=\"alcohol_title\" name=\"alcoholTitle[max]\" placeholder=\"Taux alcool max\" />\n                  <label>Category</label>\n                  <SelectField url=\"beer_category\" name=\"category\" placeholder=\"Catégorie\" className=\"span_2\" />\n                  <label>Color</label>\n                  <SelectField url=\"beer_color\" name=\"color[min]\" placeholder=\"Couleur min\" />\n                  <SelectField url=\"beer_color\" name=\"color[max]\" placeholder=\"Couleur max\" />\n                  <label>Bitterness</label>\n                  <SelectField url=\"bitterness\" name=\"bitterness[min]\" placeholder=\"Amertume min\" />\n                  <SelectField url=\"bitterness\" name=\"bitterness[max]\" placeholder=\"Amertume max\" />\n                  <button className=\"span_3\" type=\"submit\" disabled={submitting}>\n                    Éditer\n                  </button>\n                  <button onClick={handleEdit} className=\"span_3 red\">Annuler</button>\n                </form>\n              )}\n            />\n          </div>\n        )\n      }else{\n        return(\n          <div className={`${card.card_grid} ${card.document_card}`}>\n            <h4 className=\"span_3\">{data.name}</h4>\n            <label>Country</label>\n            <p className=\"span_2\">{data.country.name}</p>\n            <label>Category</label>\n            <p className=\"span_2\">{data.category ? data.category.name : \"___\"}</p>\n            <label>Alcohol title</label>\n            <p className={!data.alcoholTitle.max ? \"span_2\" : \"\"}>{data.alcoholTitle.min.name}</p>\n            {data.alcoholTitle.max && <p>{data.alcoholTitle.max.name}</p>}\n            <label>Color</label>\n            <p className={!data.color.max ? \"span_2\" : \"\"}>{data.color.min.name}</p>\n            {data.color.max && <p>{data.color.max.name}</p>}\n            <label>Bitterness</label>\n            <p className={!data.bitterness.max ? \"span_2\" : \"\"}>{data.bitterness.min.name}</p>\n            {data.bitterness.max && <p>{data.bitterness.max.name}</p>}\n            <button onClick={handleEdit} className=\"span_3\">Editer</button>\n            <button onClick={handleDelete} className=\"span_3 red\">Supprimer</button>\n          </div>\n        )\n      }\n    }else{\n      if(this.state.edit){\n        return (\n          <div className={card.document_card}>\n            <Form\n              onSubmit={onSubmit}\n              initialValues={data}\n              render={({ handleSubmit, submitting }) => (\n                <form onSubmit={handleSubmit} className={editFormStyle.edit_form}>\n                  <Field\n                    name=\"name\"\n                    component=\"input\"\n                    type=\"text\"\n                  />\n                  {this.props.rootURL.includes(\"beer_color\") &&\n                    <Field\n                      name=\"color\"\n                      component=\"input\"\n                      type=\"text\"\n                    />\n                  }\n                  <button type=\"submit\" disabled={submitting}>\n                    Éditer\n                  </button>\n                  <button onClick={handleEdit} className=\"red\">Annuler</button>\n                </form>\n              )}\n            />\n          </div>\n        )\n      }else{\n        return (\n          <div className={card.document_card}>\n            <p>{data.name}</p>\n            {this.props.rootURL.includes(\"beer_color\") && <p>{data.color}</p> }\n            <button onClick={handleEdit} style={{marginBottom: \"5px\"}}>Editer</button>\n            <button onClick={handleDelete} className=\"red\">Supprimer</button>\n          </div>\n        )\n      }\n    }\n \n  }\n}\n\nexport default DocumentCard"]},"metadata":{},"sourceType":"module"}